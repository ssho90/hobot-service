{
    "api_info": {
      "api_name": "주식매수가능조회",
      "api_id": "v1_국내주식-007",
      "method": "GET",
      "description": "매수가능 현금 및 수량을 조회하는 API입니다.\n모의투자의 경우, 주문가능 현금 및 주문가능 수량 데이터만 제공됩니다 (미수없는 매수 관련 데이터 미제공).",
      "menu_location": "[국내주식] 주문/계좌",
      "domains": {
        "real": "https://openapi.koreainvestment.com:9443",
        "mock": "https://openapivts.koreainvestment.com:29443"
      },
      "url": "/uapi/domestic-stock/v1/trading/inquire-psbl-order",
      "transaction_ids": {
        "real": "TTTC8908R",
        "mock": "VTTC8908R"
      }
    },
    "request": {
      "headers": [
        {
          "key": "content-type",
          "name": "컨텐츠타입",
          "type": "string",
          "required": false,
          "description": "application/json; charset=utf-8"
        },
        {
          "key": "authorization",
          "name": "접근토큰",
          "type": "string",
          "required": true,
          "description": "OAuth 토큰 (Bearer 방식)"
        },
        {
          "key": "appkey",
          "name": "앱키",
          "type": "string",
          "required": true,
          "description": "한국투자증권 홈페이지에서 발급받은 appkey"
        },
        {
          "key": "appsecret",
          "name": "앱시크릿키",
          "type": "string",
          "required": true,
          "description": "한국투자증권 홈페이지에서 발급받은 appsecret"
        },
        {
          "key": "tr_id",
          "name": "거래ID",
          "type": "string",
          "required": true,
          "description": "실전: TTTC8908R, 모의: VTTC8908R"
        },
        {
          "key": "custtype",
          "name": "고객타입",
          "type": "string",
          "required": false,
          "description": "B: 법인, P: 개인"
        }
      ],
      "query_params": [
        {
          "key": "CANO",
          "name": "종합계좌번호",
          "type": "string",
          "required": true,
          "length": 8,
          "description": "계좌번호 체계(8-2)의 앞 8자리"
        },
        {
          "key": "ACNT_PRDT_CD",
          "name": "계좌상품코드",
          "type": "string",
          "required": true,
          "length": 2,
          "description": "계좌번호 체계(8-2)의 뒤 2자리"
        },
        {
          "key": "PDNO",
          "name": "상품번호",
          "type": "string",
          "required": true,
          "length": 12,
          "description": "종목번호 (6자리)"
        },
        {
          "key": "ORD_UNPR",
          "name": "주문단가",
          "type": "string",
          "required": true,
          "length": 19,
          "description": "1주당 가격 (시장가 선택 시 0 입력)"
        },
        {
          "key": "ORD_DVSN",
          "name": "주문구분",
          "type": "string",
          "required": true,
          "length": 2,
          "description": "00: 지정가, 01: 시장가, ... (상세 코드 참조)"
        },
        {
          "key": "CMA_EVLU_AMT_ICLD_YN",
          "name": "CMA평가금액포함여부",
          "type": "string",
          "required": true,
          "length": 1,
          "description": "Y: 포함, N: 미포함"
        },
        {
          "key": "OVRSE_DRIV_USE_YN",
          "name": "해외파생상품사용여부",
          "type": "string",
          "required": true,
          "length": 1,
          "description": "Y: 사용, N: 미사용"
        }
      ]
    },
    "response": {
      "headers": [
        {
          "key": "content-type",
          "name": "컨텐츠타입",
          "description": "application/json; charset=utf-8"
        },
        {
          "key": "tr_id",
          "name": "거래ID",
          "description": "요청한 tr_id"
        }
      ],
      "body": {
        "common": [
          { "key": "rt_cd", "name": "성공 실패 여부", "description": "0: 성공, 0 이외: 실패" },
          { "key": "msg_cd", "name": "응답코드" },
          { "key": "msg1", "name": "응답메세지" }
        ],
        "output": {
          "type": "object",
          "description": "매수 가능 조회 결과",
          "fields": [
            { "key": "nrcvb_buy_amt", "name": "미수없는매수금액", "description": "증거금 100% 기준 매수 가능 금액" },
            { "key": "nrcvb_buy_qty", "name": "미수없는매수수량", "description": "증거금 100% 기준 매수 가능 수량" },
            { "key": "ord_psbl_cash", "name": "주문가능현금", "description": "현재 주문 가능한 현금" },
            { "key": "psbl_qty", "name": "주문가능수량", "description": "설정된 증거금률에 따른 주문 가능 수량" },
            { "key": "cisa_vcnt_ern_amt", "name": "CMA평가금액", "description": "CMA 계좌 평가 금액" },
            { "key": "max_buy_amt", "name": "최대매수금액", "description": "미수 포함 최대 매수 가능 금액" },
            { "key": "max_buy_qty", "name": "최대매수수량", "description": "미수 포함 최대 매수 가능 수량" },
            { "key": "cma_evlu_amt", "name": "CMA평가금액", "description": "CMA 평가 금액 (중복 필드 가능성 있음)" }
          ]
        }
      }
    },
    "examples": {
      "request_python": {
        "CANO": "810XXXXX",
        "ACNT_PRDT_CD": "01",
        "PDNO": "005930",
        "ORD_UNPR": "0",
        "ORD_DVSN": "01",
        "CMA_EVLU_AMT_ICLD_YN": "N",
        "OVRSE_DRIV_USE_YN": "N"
      },
      "response_json": {
        "rt_cd": "0",
        "msg_cd": "KIOK0510",
        "msg1": "조회가 완료되었습니다.",
        "output": {
          "nrcvb_buy_amt": "1000000",
          "nrcvb_buy_qty": "15",
          "ord_psbl_cash": "1000000",
          "psbl_qty": "15",
          "cisa_vcnt_ern_amt": "0",
          "max_buy_amt": "1000000",
          "max_buy_qty": "15",
          "cma_evlu_amt": "0"
        }
      }
    }
  }